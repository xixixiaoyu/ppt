<script setup lang="ts">
import { ArrowLongRightIcon } from '@heroicons/vue/24/solid'

defineProps<{ isActive?: boolean; isPreview?: boolean }>()

const steps = [
  {
    title: '1. å¤§æ¨¡å‹ç”Ÿæˆå‡½æ•°è°ƒç”¨è¯·æ±‚',
    description: 'æ¨¡å‹è¾“å‡ºä¸€ä¸ªç»“æ„åŒ–çš„ JSON å¯¹è±¡ï¼Œç²¾ç¡®æè¿°äº†å®ƒå¸Œæœ›æ‰§è¡Œå“ªä¸ªå‡½æ•°ä»¥åŠä½¿ç”¨ä»€ä¹ˆå‚æ•°ã€‚',
    code: `// LLM Output (JSON)
{
  "tool_name": "search_arxiv_paper",
  "parameters": {
    "query": "latest AI papers"
  }
}`,
  },
  {
    title: '2. åº”ç”¨ç¨‹åºè§£æå¹¶æ‰§è¡Œ',
    description: 'ä½ çš„ä»£ç æ¥æ”¶è¿™ä¸ª JSONï¼Œå°†å…¶ä½œä¸ºæŒ‡ä»¤ï¼Œå»è°ƒç”¨æœ¬åœ°æˆ–è¿œç¨‹çš„çœŸå®å‡½æ•°ã€‚',
    code: `// Your Application Code (e.g., Python)
def search_arxiv_paper(query: str):
    # ... code to search Arxiv API ...
    return results

# 1. Parse LLM output
llm_response = ...

# 2. Dispatch and execute
if llm_response['tool_name'] == 'search_arxiv_paper':
    query = llm_response['parameters']['query']
    results = search_arxiv_paper(query)
    # 3. (Optional) Send results back to LLM`,
  },
]
</script>

<template>
  <div class="h-full flex flex-col justify-center items-center p-8">
    <div class="text-center mb-10">
      <h2 class="text-4xl font-bold text-slate-900">æ·±å…¥æ ¸å¿ƒï¼šFunction Calling æœºåˆ¶</h2>
      <p class="text-lg text-slate-600 mt-2">
        Tool Calling æ˜¯â€œåšä»€ä¹ˆâ€çš„åº”ç”¨æ¦‚å¿µï¼ŒFunction Calling æ˜¯â€œæ€ä¹ˆåšâ€çš„æŠ€æœ¯å®ç°ã€‚
      </p>
    </div>

    <div class="flex items-center justify-center gap-8 w-full max-w-6xl">
      <!-- Step 1: LLM Output -->
      <div
        class="flex-1 bg-white/70 backdrop-blur-md border border-slate-200/30 rounded-3xl shadow-xl p-6"
      >
        <h3 class="text-2xl font-bold mb-4 text-slate-800">{{ steps[0].title }}</h3>
        <p class="text-slate-600 mb-4 text-sm">{{ steps[0].description }}</p>
        <pre
          class="bg-slate-900/80 text-slate-100 rounded-2xl border border-white/10 p-4 text-left font-mono text-sm whitespace-pre-wrap"
        ><code>{{ steps[0].code }}</code></pre>
      </div>

      <!-- Arrow -->
      <div class="flex-shrink-0">
        <ArrowLongRightIcon class="h-12 w-12 text-slate-400" />
      </div>

      <!-- Step 2: Application Execution -->
      <div
        class="flex-1 bg-white/70 backdrop-blur-md border border-slate-200/30 rounded-3xl shadow-xl p-6"
      >
        <h3 class="text-2xl font-bold mb-4 text-slate-800">{{ steps[1].title }}</h3>
        <p class="text-slate-600 mb-4 text-sm">{{ steps[1].description }}</p>
        <pre
          class="bg-slate-900/80 text-slate-100 rounded-2xl border border-white/10 p-4 text-left font-mono text-sm whitespace-pre-wrap"
        ><code>{{ steps[1].code }}</code></pre>
      </div>
    </div>

    <div class="mt-10">
      <div
        class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/60 border border-white/40 backdrop-blur-md"
      >
        <span class="text-slate-600 text-sm"
          >ğŸ’¡ Function Calling æ˜¯è¿æ¥å¤§è¯­è¨€æ¨¡å‹ä¸ç°æœ‰è½¯ä»¶ç”Ÿæ€ç³»ç»Ÿçš„æ¡¥æ¢ã€‚</span
        >
      </div>
    </div>
  </div>
</template>

<style scoped></style>
