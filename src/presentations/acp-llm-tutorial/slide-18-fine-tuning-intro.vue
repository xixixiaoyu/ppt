<script setup lang="ts">
import { BookOpenIcon, CpuChipIcon, SparklesIcon } from '@heroicons/vue/24/outline'

defineProps<{ isActive?: boolean; isPreview?: boolean }>()

const concepts = {
  rag: { name: 'RAG (å¤–æŒ‚)', description: 'é€šè¿‡å¤–éƒ¨çŸ¥è¯†åº“æä¾›ä¿¡æ¯ï¼Œæ¨¡å‹æœ¬èº«ä¸å˜ã€‚' },
  finetuning: { name: 'Fine-tuning (å†…åŒ–)', description: 'ç”¨ç‰¹å®šæ•°æ®è®­ç»ƒï¼Œç›´æ¥æ”¹å˜æ¨¡å‹æƒé‡ï¼Œä½¿å…¶æˆä¸ºé¢†åŸŸä¸“å®¶ã€‚' }
}

const steps = [
  {
    icon: BookOpenIcon,
    title: '1. å‡†å¤‡â€œæ•™æâ€',
    description: 'æ„å»ºé«˜è´¨é‡ã€é¢†åŸŸç‰¹å®šçš„é—®ç­”æ•°æ®é›† (JSONL æ ¼å¼)ã€‚'
  },
  {
    icon: CpuChipIcon,
    title: '2. â€œå› ææ–½æ•™â€',
    description: 'é€šè¿‡æ¢¯åº¦ä¸‹é™ç®—æ³•ï¼Œè®©æ¨¡å‹å­¦ä¹ â€œæ ‡å‡†ç­”æ¡ˆâ€ï¼Œé€æ­¥è°ƒæ•´è‡ªèº«å‚æ•°ä»¥å‡å°‘â€œæŸå¤± (Loss)â€ã€‚'
  },
  {
    icon: SparklesIcon,
    title: '3. â€œå­¦æˆå‡ºå¸ˆâ€',
    description: 'è·å¾—ä¸€ä¸ªåœ¨ç‰¹å®šä»»åŠ¡ä¸Šè¡¨ç°æ›´å‡ºè‰²ã€æ›´é«˜æ•ˆçš„â€œä¸“å®¶æ¨¡å‹â€ã€‚'
  }
]
</script>

<template>
  <div class="h-full flex flex-col justify-center items-center p-8">
    <div class="text-center mb-10 max-w-4xl">
      <h2 class="text-4xl font-bold text-slate-900">ææ•ˆç¯‡ï¼šæ¨¡å‹å¾®è°ƒ (Fine-tuning)</h2>
      <p class="text-lg text-slate-600 mt-2">å½“ RAG çš„â€œå¼€å·è€ƒè¯•â€é‡åˆ°ç“¶é¢ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸ºæ¨¡å‹è¿›è¡Œâ€œå†…åŠŸä¿®ç‚¼â€ã€‚</p>

      <div class="mt-6 grid grid-cols-2 gap-4 text-left">
        <div class="bg-white/60 backdrop-blur-md border border-slate-200/30 rounded-2xl p-4">
          <h4 class="font-bold text-fuchsia-700">{{ concepts.rag.name }}</h4>
          <p class="text-slate-600 text-sm">{{ concepts.rag.description }}</p>
        </div>
        <div class="bg-white/60 backdrop-blur-md border border-slate-200/30 rounded-2xl p-4">
          <h4 class="font-bold text-indigo-700">{{ concepts.finetuning.name }}</h4>
          <p class="text-slate-600 text-sm">{{ concepts.finetuning.description }}</p>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-6xl">
      <div
        v-for="(step, i) in steps"
        :key="step.title"
        class="bg-white/70 backdrop-blur-md border border-slate-200/30 rounded-3xl shadow-xl p-6 text-center"
        :class="{ 'relative border-transparent bg-clip-padding before:absolute before:inset-0 before:-z-10 before:rounded-[inherit] before:bg-gradient-to-r before:from-indigo-500 before:to-fuchsia-500 p-1': i === 1 }"
      >
        <div :class="{ 'bg-white rounded-[calc(1.5rem-0.25rem)] h-full': i === 1 }">
          <div class="flex justify-center mb-4">
            <component :is="step.icon" class="h-10 w-10 text-indigo-500" />
          </div>
          <h3 class="text-xl font-bold text-slate-900 mb-2">{{ step.title }}</h3>
          <p class="text-slate-600 text-sm">{{ step.description }}</p>
        </div>
      </div>
    </div>

    <div class="mt-10">
      <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/60 border border-white/40 backdrop-blur-md">
        <span class="text-slate-600 text-sm">ğŸ’¡ å¾®è°ƒæˆæœ¬é«˜æ˜‚ä½†å¯¹æå‡æ¨¡å‹çš„â€œä¸“ä¸šèƒ½åŠ›â€è‡³å…³é‡è¦ã€‚</span>
      </div>
    </div>
  </div>
</template>

<style scoped>
</style>
